frameworkVersion: '>= 3 < 4'
service: bun-service

provider:
  name: aws
  architecture: arm64
  stage: staging
  region: us-east-1
  architecture: arm64

custom:
  region: '${opt:region, self:provider.region}'
  stage: '${opt:stage, self:provider.stage}'

package:
  individually: true
  patterns:
    - '!node_modules/**'
    - '!plugins/**'
    - '!pnpm-lock.yaml'
    - '!tsconfig.json'

functions:
  my-queue:
    handler: my-queue/handler.default
    runtime: bun:1.x
    memorySize: 512
    timeout: 30

plugins:
  - serverless-bun-plugin